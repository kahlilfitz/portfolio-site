{"version":3,"sources":["webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack:///./node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack:///./src/components/book-loader/book-card.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/from.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/switchMap.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/catchError.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isScheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/fromArray.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/of.js","webpack:///./src/pages/book-loader.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/dom/fetch.js","webpack:///./node_modules/rxjs/_esm5/internal/innerSubscribe.js"],"names":["subscribeToArray","array","subscriber","i","len","length","closed","next","complete","isPromise","value","subscribe","then","isArrayLike","x","getSymbolIterator","Symbol","iterator","result","obj","obs","TypeError","promise","err","error","hostReportError","iterable","item","done","return","add","isObject","BookCard","props","text","description","imageUrl","author","title","class","alt","src","substr","scheduleArray","input","scheduler","Observable","sub","Subscription","schedule","this","scheduled","isInteropObservable","observable","scheduleObservable","schedulePromise","isIterable","Error","scheduleIterable","from","subscribeTo","SwitchMapOperator","project","prototype","call","source","_super","SwitchMapSubscriber","destination","_this","index","_next","_innerSub","innerSubscription","unsubscribe","innerSubscriber","innerSubscribe","_complete","_unsubscribe","undefined","notifyComplete","isStopped","notifyNext","innerValue","CatchOperator","selector","caught","CatchSubscriber","err2","_unsubscribeAndRecycle","isScheduler","fromArray","of","args","_i","arguments","pop","INITAL_BOOK_DATA","data$","initWithSelector","init","perSubscriberInit","controller","AbortController","signal","abortable","unsubscribed","subscription","abort","aborted","outerSignal_1","outerSignalHandler_1","addEventListener","removeEventListener","fetch","response","catch","fromFetch","pipe","switchMap","resultSelector","a","map","b","ii","lift","fetchResponse","ok","json","message","status","console","operator","BookLoader","useState","bookData","setBookData","useLayoutEffect","dataResult","to","bookDatum","getBookElements","SimpleInnerSubscriber","parent","_error","notifyError","SimpleOuterSubscriber","apply"],"mappings":"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","file":"component---src-pages-book-loader-js-0732897a14d1dd3d225e.js","sourcesContent":["/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function subscribeToArray(array) {\n  return function (subscriber) {\n    for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n      subscriber.next(array[i]);\n    }\n\n    subscriber.complete();\n  };\n};","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n  return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = function isArrayLike(x) {\n  return x && typeof x.length === 'number' && typeof x !== 'function';\n};","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n  if (typeof Symbol !== 'function' || !Symbol.iterator) {\n    return '@@iterator';\n  }\n\n  return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/getSymbolIterator();\nexport var $$iterator = iterator;","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function subscribeTo(result) {\n  if (!!result && typeof result[Symbol_observable] === 'function') {\n    return subscribeToObservable(result);\n  } else if (isArrayLike(result)) {\n    return subscribeToArray(result);\n  } else if (isPromise(result)) {\n    return subscribeToPromise(result);\n  } else if (!!result && typeof result[Symbol_iterator] === 'function') {\n    return subscribeToIterable(result);\n  } else {\n    var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n    var msg = \"You provided \" + value + \" where a stream was expected.\" + ' You can provide an Observable, Promise, Array, or Iterable.';\n    throw new TypeError(msg);\n  }\n};","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function subscribeToObservable(obj) {\n  return function (subscriber) {\n    var obs = obj[Symbol_observable]();\n\n    if (typeof obs.subscribe !== 'function') {\n      throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    } else {\n      return obs.subscribe(subscriber);\n    }\n  };\n};","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function subscribeToPromise(promise) {\n  return function (subscriber) {\n    promise.then(function (value) {\n      if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n      }\n    }, function (err) {\n      return subscriber.error(err);\n    }).then(null, hostReportError);\n    return subscriber;\n  };\n};","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function subscribeToIterable(iterable) {\n  return function (subscriber) {\n    var iterator = iterable[Symbol_iterator]();\n\n    do {\n      var item = void 0;\n\n      try {\n        item = iterator.next();\n      } catch (err) {\n        subscriber.error(err);\n        return subscriber;\n      }\n\n      if (item.done) {\n        subscriber.complete();\n        break;\n      }\n\n      subscriber.next(item.value);\n\n      if (subscriber.closed) {\n        break;\n      }\n    } while (true);\n\n    if (typeof iterator.return === 'function') {\n      subscriber.add(function () {\n        if (iterator.return) {\n          iterator.return();\n        }\n      });\n    }\n\n    return subscriber;\n  };\n};","import React from 'react'\nimport './book-card.css'\n\nconst shorten = (text) => {\n    const shortText =  text.length > 351 ? `${text.substr(0,350)}...` : text\n\n    return shortText\n}\n\nconst BookCard = (props) => {\n    const { description, imageUrl, author, title } = props\n\n\n    return (\n        <div class='book-card-container'>\n            <img alt='Book Cover' src={imageUrl} />\n            <div class='book-meta'>\n                <span class='book-title'>{title}</span>\n                <span class='book-author'>{author}</span>\n                <span class='book-description'>{shorten(description)}</span>\n            </div>\n\n        </div>\n    )\n}\n\nexport default BookCard\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n  return new Observable(function (subscriber) {\n    var sub = new Subscription();\n    var i = 0;\n    sub.add(scheduler.schedule(function () {\n      if (i === input.length) {\n        subscriber.complete();\n        return;\n      }\n\n      subscriber.next(input[i++]);\n\n      if (!subscriber.closed) {\n        sub.add(this.schedule());\n      }\n    }));\n    return sub;\n  });\n}","/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\nimport { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return scheduleObservable(input, scheduler);\n    } else if (isPromise(input)) {\n      return schedulePromise(input, scheduler);\n    } else if (isArrayLike(input)) {\n      return scheduleArray(input, scheduler);\n    } else if (isIterable(input) || typeof input === 'string') {\n      return scheduleIterable(input, scheduler);\n    }\n  }\n\n  throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n  return input && typeof input[Symbol_observable] === 'function';\n}","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n  return new Observable(function (subscriber) {\n    var sub = new Subscription();\n    sub.add(scheduler.schedule(function () {\n      var observable = input[Symbol_observable]();\n      sub.add(observable.subscribe({\n        next: function next(value) {\n          sub.add(scheduler.schedule(function () {\n            return subscriber.next(value);\n          }));\n        },\n        error: function error(err) {\n          sub.add(scheduler.schedule(function () {\n            return subscriber.error(err);\n          }));\n        },\n        complete: function complete() {\n          sub.add(scheduler.schedule(function () {\n            return subscriber.complete();\n          }));\n        }\n      }));\n    }));\n    return sub;\n  });\n}","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n  return new Observable(function (subscriber) {\n    var sub = new Subscription();\n    sub.add(scheduler.schedule(function () {\n      return input.then(function (value) {\n        sub.add(scheduler.schedule(function () {\n          subscriber.next(value);\n          sub.add(scheduler.schedule(function () {\n            return subscriber.complete();\n          }));\n        }));\n      }, function (err) {\n        sub.add(scheduler.schedule(function () {\n          return subscriber.error(err);\n        }));\n      });\n    }));\n    return sub;\n  });\n}","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n  return input && typeof input[Symbol_iterator] === 'function';\n}","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n  if (!input) {\n    throw new Error('Iterable cannot be null');\n  }\n\n  return new Observable(function (subscriber) {\n    var sub = new Subscription();\n    var iterator;\n    sub.add(function () {\n      if (iterator && typeof iterator.return === 'function') {\n        iterator.return();\n      }\n    });\n    sub.add(scheduler.schedule(function () {\n      iterator = input[Symbol_iterator]();\n      sub.add(scheduler.schedule(function () {\n        if (subscriber.closed) {\n          return;\n        }\n\n        var value;\n        var done;\n\n        try {\n          var result = iterator.next();\n          value = result.value;\n          done = result.done;\n        } catch (err) {\n          subscriber.error(err);\n          return;\n        }\n\n        if (done) {\n          subscriber.complete();\n        } else {\n          subscriber.next(value);\n          this.schedule();\n        }\n      }));\n    }));\n    return sub;\n  });\n}","/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n  if (!scheduler) {\n    if (input instanceof Observable) {\n      return input;\n    }\n\n    return new Observable(subscribeTo(input));\n  } else {\n    return scheduled(input, scheduler);\n  }\n}","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function switchMap(project, resultSelector) {\n  if (typeof resultSelector === 'function') {\n    return function (source) {\n      return source.pipe(switchMap(function (a, i) {\n        return from(project(a, i)).pipe(map(function (b, ii) {\n          return resultSelector(a, b, i, ii);\n        }));\n      }));\n    };\n  }\n\n  return function (source) {\n    return source.lift(new SwitchMapOperator(project));\n  };\n}\n\nvar SwitchMapOperator = /*@__PURE__*/function () {\n  function SwitchMapOperator(project) {\n    this.project = project;\n  }\n\n  SwitchMapOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n  };\n\n  return SwitchMapOperator;\n}();\n\nvar SwitchMapSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SwitchMapSubscriber, _super);\n\n  function SwitchMapSubscriber(destination, project) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.project = project;\n    _this.index = 0;\n    return _this;\n  }\n\n  SwitchMapSubscriber.prototype._next = function (value) {\n    var result;\n    var index = this.index++;\n\n    try {\n      result = this.project(value, index);\n    } catch (error) {\n      this.destination.error(error);\n      return;\n    }\n\n    this._innerSub(result);\n  };\n\n  SwitchMapSubscriber.prototype._innerSub = function (result) {\n    var innerSubscription = this.innerSubscription;\n\n    if (innerSubscription) {\n      innerSubscription.unsubscribe();\n    }\n\n    var innerSubscriber = new SimpleInnerSubscriber(this);\n    var destination = this.destination;\n    destination.add(innerSubscriber);\n    this.innerSubscription = innerSubscribe(result, innerSubscriber);\n\n    if (this.innerSubscription !== innerSubscriber) {\n      destination.add(this.innerSubscription);\n    }\n  };\n\n  SwitchMapSubscriber.prototype._complete = function () {\n    var innerSubscription = this.innerSubscription;\n\n    if (!innerSubscription || innerSubscription.closed) {\n      _super.prototype._complete.call(this);\n    }\n\n    this.unsubscribe();\n  };\n\n  SwitchMapSubscriber.prototype._unsubscribe = function () {\n    this.innerSubscription = undefined;\n  };\n\n  SwitchMapSubscriber.prototype.notifyComplete = function () {\n    this.innerSubscription = undefined;\n\n    if (this.isStopped) {\n      _super.prototype._complete.call(this);\n    }\n  };\n\n  SwitchMapSubscriber.prototype.notifyNext = function (innerValue) {\n    this.destination.next(innerValue);\n  };\n\n  return SwitchMapSubscriber;\n}(SimpleOuterSubscriber);","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function catchError(selector) {\n  return function catchErrorOperatorFunction(source) {\n    var operator = new CatchOperator(selector);\n    var caught = source.lift(operator);\n    return operator.caught = caught;\n  };\n}\n\nvar CatchOperator = /*@__PURE__*/function () {\n  function CatchOperator(selector) {\n    this.selector = selector;\n  }\n\n  CatchOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n  };\n\n  return CatchOperator;\n}();\n\nvar CatchSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(CatchSubscriber, _super);\n\n  function CatchSubscriber(destination, selector, caught) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.selector = selector;\n    _this.caught = caught;\n    return _this;\n  }\n\n  CatchSubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var result = void 0;\n\n      try {\n        result = this.selector(err, this.caught);\n      } catch (err2) {\n        _super.prototype.error.call(this, err2);\n\n        return;\n      }\n\n      this._unsubscribeAndRecycle();\n\n      var innerSubscriber = new SimpleInnerSubscriber(this);\n      this.add(innerSubscriber);\n      var innerSubscription = innerSubscribe(result, innerSubscriber);\n\n      if (innerSubscription !== innerSubscriber) {\n        this.add(innerSubscription);\n      }\n    }\n  };\n\n  return CatchSubscriber;\n}(SimpleOuterSubscriber);","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isScheduler(value) {\n  return value && typeof value.schedule === 'function';\n}","/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeToArray } from '../util/subscribeToArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function fromArray(input, scheduler) {\n  if (!scheduler) {\n    return new Observable(subscribeToArray(input));\n  } else {\n    return scheduleArray(input, scheduler);\n  }\n}","/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function of() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var scheduler = args[args.length - 1];\n\n  if (isScheduler(scheduler)) {\n    args.pop();\n    return scheduleArray(args, scheduler);\n  } else {\n    return fromArray(args);\n  }\n}","import React, { useState, useLayoutEffect } from 'react'\nimport Layout from \"../components/layout\"\nimport BookCard from '../components/book-loader/book-card'\nimport { switchMap, catchError } from 'rxjs/operators'\nimport { fromFetch } from 'rxjs/fetch'\nimport { of } from 'rxjs'\nimport { Link } from 'gatsby'\n\nconst INITAL_BOOK_DATA = [\n    {\n        \"description\": 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse sapien ante, varius sed dapibus vel, tincidunt quis purus. In hac habitasse platea dictumst. Nulla rutrum facilisis dignissim. Nullam eget laoreet turpis. Aenean auctor leo et enim fermentum tempor. Sed fringilla justo quis libero fermentum, et tempus lorem tristique. Quisque placerat magna congue magna congue pretium at in ante.',\n        \"imageUrl\": 'https://firebasestorage.googleapis.com/v0/b/all-turtles-interview.appspot.com/o/making-users-awesome.jpg?alt=media',\n        \"author\": 'Thee Author',\n        \"title\": 'This is a Book Title'\n    }\n]\n\nconst data$ = fromFetch('https://us-central1-all-turtles-interview.cloudfunctions.net/books').pipe(\n    switchMap(fetchResponse => {\n        const jsonToReturn = fetchResponse.ok ? fetchResponse.json() : of({ error: true, message: `Error ${fetchResponse.status}` })\n        return jsonToReturn\n    }),\n    catchError(err => {\n        // Network or other error, handle appropriately\n        console.error(err);\n        return of({ error: true, message: err.message })\n    })\n)\n\nconst getBookElements = (bookData) => (\n    bookData.map(\n        bookDatum => (\n            <BookCard\n                author={bookDatum.author}\n                title={bookDatum.title}\n                description={bookDatum.description}\n                imageUrl={bookDatum.imageUrl}\n            />\n        )\n    )\n)\n\nconst BookLoader = () => {\n    const [bookData, setBookData] = useState(INITAL_BOOK_DATA)\n\n    useLayoutEffect(() => {\n        data$.subscribe({\n            next: dataResult => {\n                if (!dataResult.error) {\n                    setBookData(dataResult)\n                }\n            }\n        })\n    })\n    \n    return (\n        <Layout>\n            <Link to=\"/\">Home</Link>\n            <h1>Bookshelf</h1>\n            {getBookElements(bookData)}\n        </Layout>\n    )\n}\n\nexport default BookLoader\n","/** PURE_IMPORTS_START tslib,_.._Observable,_.._Subscription,_.._observable_from PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from '../../Observable';\nimport { Subscription } from '../../Subscription';\nimport { from } from '../../observable/from';\nexport function fromFetch(input, initWithSelector) {\n  if (initWithSelector === void 0) {\n    initWithSelector = {};\n  }\n\n  var selector = initWithSelector.selector,\n      init = tslib_1.__rest(initWithSelector, [\"selector\"]);\n\n  return new Observable(function (subscriber) {\n    var controller = new AbortController();\n    var signal = controller.signal;\n    var abortable = true;\n    var unsubscribed = false;\n    var subscription = new Subscription();\n    subscription.add(function () {\n      unsubscribed = true;\n\n      if (abortable) {\n        controller.abort();\n      }\n    });\n    var perSubscriberInit;\n\n    if (init) {\n      if (init.signal) {\n        if (init.signal.aborted) {\n          controller.abort();\n        } else {\n          var outerSignal_1 = init.signal;\n\n          var outerSignalHandler_1 = function outerSignalHandler_1() {\n            if (!signal.aborted) {\n              controller.abort();\n            }\n          };\n\n          outerSignal_1.addEventListener('abort', outerSignalHandler_1);\n          subscription.add(function () {\n            return outerSignal_1.removeEventListener('abort', outerSignalHandler_1);\n          });\n        }\n      }\n\n      perSubscriberInit = tslib_1.__assign({}, init, {\n        signal: signal\n      });\n    } else {\n      perSubscriberInit = {\n        signal: signal\n      };\n    }\n\n    fetch(input, perSubscriberInit).then(function (response) {\n      if (selector) {\n        subscription.add(from(selector(response)).subscribe(function (value) {\n          return subscriber.next(value);\n        }, function (err) {\n          abortable = false;\n\n          if (!unsubscribed) {\n            subscriber.error(err);\n          }\n        }, function () {\n          abortable = false;\n          subscriber.complete();\n        }));\n      } else {\n        abortable = false;\n        subscriber.next(response);\n        subscriber.complete();\n      }\n    }).catch(function (err) {\n      abortable = false;\n\n      if (!unsubscribed) {\n        subscriber.error(err);\n      }\n    });\n    return subscription;\n  });\n}","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nimport { Observable } from './Observable';\nimport { subscribeTo } from './util/subscribeTo';\n\nvar SimpleInnerSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SimpleInnerSubscriber, _super);\n\n  function SimpleInnerSubscriber(parent) {\n    var _this = _super.call(this) || this;\n\n    _this.parent = parent;\n    return _this;\n  }\n\n  SimpleInnerSubscriber.prototype._next = function (value) {\n    this.parent.notifyNext(value);\n  };\n\n  SimpleInnerSubscriber.prototype._error = function (error) {\n    this.parent.notifyError(error);\n    this.unsubscribe();\n  };\n\n  SimpleInnerSubscriber.prototype._complete = function () {\n    this.parent.notifyComplete();\n    this.unsubscribe();\n  };\n\n  return SimpleInnerSubscriber;\n}(Subscriber);\n\nexport { SimpleInnerSubscriber };\n\nvar ComplexInnerSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(ComplexInnerSubscriber, _super);\n\n  function ComplexInnerSubscriber(parent, outerValue, outerIndex) {\n    var _this = _super.call(this) || this;\n\n    _this.parent = parent;\n    _this.outerValue = outerValue;\n    _this.outerIndex = outerIndex;\n    return _this;\n  }\n\n  ComplexInnerSubscriber.prototype._next = function (value) {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);\n  };\n\n  ComplexInnerSubscriber.prototype._error = function (error) {\n    this.parent.notifyError(error);\n    this.unsubscribe();\n  };\n\n  ComplexInnerSubscriber.prototype._complete = function () {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  };\n\n  return ComplexInnerSubscriber;\n}(Subscriber);\n\nexport { ComplexInnerSubscriber };\n\nvar SimpleOuterSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SimpleOuterSubscriber, _super);\n\n  function SimpleOuterSubscriber() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {\n    this.destination.next(innerValue);\n  };\n\n  SimpleOuterSubscriber.prototype.notifyError = function (err) {\n    this.destination.error(err);\n  };\n\n  SimpleOuterSubscriber.prototype.notifyComplete = function () {\n    this.destination.complete();\n  };\n\n  return SimpleOuterSubscriber;\n}(Subscriber);\n\nexport { SimpleOuterSubscriber };\n\nvar ComplexOuterSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(ComplexOuterSubscriber, _super);\n\n  function ComplexOuterSubscriber() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {\n    this.destination.next(innerValue);\n  };\n\n  ComplexOuterSubscriber.prototype.notifyError = function (error) {\n    this.destination.error(error);\n  };\n\n  ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {\n    this.destination.complete();\n  };\n\n  return ComplexOuterSubscriber;\n}(Subscriber);\n\nexport { ComplexOuterSubscriber };\nexport function innerSubscribe(result, innerSubscriber) {\n  if (innerSubscriber.closed) {\n    return undefined;\n  }\n\n  if (result instanceof Observable) {\n    return result.subscribe(innerSubscriber);\n  }\n\n  return subscribeTo(result)(innerSubscriber);\n}"],"sourceRoot":""}